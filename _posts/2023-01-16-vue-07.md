---
title: "[Vue/Spring] ì„œë²„ ë°ì´í„° ë°”ì¸ë”© (feat CORS)"
excerpt: "ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ í™”ë©´ì— ë¿Œë ¤ë´…ì‹œë‹¤ (feat CORS) ğŸ¶"

categories:
  - Vue
tags:
  - [Vue]

permalink: /category/vue/7

toc: true
toc_sticky: true

date: 2023-01-16
last_modified_at: 2023-01-16
---
## ğŸ¦¥ ë¯¹ìŠ¤ì¸ ì‘ì„±
- ì–´ëŠ í˜ì´ì§€ì—ì„œë“  ë°±ì—”ë“œì— ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê¸° ìœ„í•´ axios ë¥¼ ì‚¬ìš©í•œë‹¤
- ê³µí†µë˜ëŠ” ë¶€ë¶„ì„ ë”°ë¡œ ì‘ì„±í•˜ê¸° ìœ„í•´ ë¯¹ìŠ¤ì¸ì„ ì‚¬ìš©í•œë‹¤
- ê³µí†µë˜ëŠ” ë¶€ë¶„ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤

```
import axios from 'axios'
export default {
  methods: {
    async $api (url, method, data) {
      return (await axios({
        method: method,
        url,
        data
      }).catch(e => {
        console.log(e)
      })).data
    }
  }
}
```

### ğŸŒ¿ ë¯¹ìŠ¤ì¸ main.js ì— ë“±ë¡

```
import { createApp } from 'vue'
import App from './App.vue'
import router from './router'
import store from './store'
import mixins from '@/mixins'

createApp(App).use(store).use(router).mixin(mixins).mount('#app')
```

## ğŸ¦¥ ì„œë²„ ë°ì´í„° í˜¸ì¶œ ë¶€ë¶„

```
-- ë°˜ë³µë¬¸ìœ¼ë¡œ ë°ì´í„° ì¶œë ¥ ! 
<template>
<tbody>
    <tr :key="index" v-for="(product, index) in productList">
      <td>{{product.id}}</td>
      <td>{{product.productName}}</td>
      <td>{{product.productPrice}}</td>
      <td>{{product.productCategory}}</td>
    </tr>`
  </tbody>
</template>
-- ì„œë²„ì— ë°ì´í„°ë¥¼ ìš”ì²­í•˜ëŠ” ë¶€ë¶„
data () {
    return {
      productList: []
    }
  },
  created () {
    this.getList()
    console.log('ì—¬ê¸° ë“¤ì–´ì™”ëƒ?')
  },
  methods: {
    async getList () {
      this.productList = await this.$api('http://localhost:8080/product/list', 'get')
      console.log(this.productList)
    }
  }
```

## ğŸ¦¥ CORS
  - ë‹¤ë¥¸ ì‹œì‘ì (?)ì—ì„œ ì˜¤ëŠ” ìš”ì²­(URL)ì„ í—ˆìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒ. ë™ì¼í•œ ì‹œì‘ì ì´ë€ í”„ë¡œí† ì½œ, ë„ë©”ì¸, í¬íŠ¸ê°€ ë™ì¼í•œ ê²ƒì´ê³  ë‹¤ë¥¸ ì‹œì‘ì ì€ í”„ë¡œí† ì½œ, ë„ë©”ì¸ì´ ê°™ì§€ë§Œ í¬íŠ¸ê°€ ë‹¤ë¥¸ê²½ìš° ë“± í•˜ë‚˜ë¼ë„ ë‹¤ë¥´ë©´.. ë‹¤ë¥¸ ì‹œì‘ì ì´ë‹¤ ğŸ™‚

## ğŸ¦¥ ë°±ì—”ë“œ(ìŠ¤í”„ë§)ì—ì„œ CORS ì„¤ì •
- ì„¤ì •ì„ í†µí•´ ì‰½ê²Œ CORS ì— ëŒ€í•œ ì„¤ì •ì„ í•  ìˆ˜ ìˆë‹¤.. ë‹¨ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ.. ğŸ‘Š
- ë‚˜ëŠ” ì¼ë‹¨ ëª¨ë“  URL ë§¤í•‘ì— ëŒ€í•´ ëª¨ë“  ì‹œì‘ì , ëª¨ë“  ë©”ì„œë“œë¥¼ í—ˆìš©í•˜ê¸°ë¡œ í–ˆë‹¤
```
@Configuration
class WebConfig: WebMvcConfigurer{
    override fun addCorsMappings(registry: CorsRegistry) {
        registry.addMapping("/**") // í—ˆê°€ í•  URL (ì„œë²„ì¸¡)
            .allowedOrigins("*") // í—ˆê°€ í•  ì‹œì‘ì ë“¤
            .allowedMethods("*") // í—ˆê°€ í•  HTTP ë©”ì„œë“œ 
    }
}
```
